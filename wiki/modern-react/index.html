<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Modern React and Redux | KEITH KWON</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" sizes="32x32" href="/images/favicon-32x32.png">
    <meta name="description" content="Developer based in Seoul">
    <meta name="google-site-verification" content="JyTpsE7AxKVeJeQR3P0s7_RDjE5zH6VGnIbWhSamXOQ">
    <meta property="og:image" content="https://github.com/keithkwon/keithkwon.github.io/blob/master/images/ogk.png?raw=true">
    <meta property="og:description" content="Developer based in Seoul">
    
    <link rel="preload" href="/assets/css/0.styles.9139df2e.css" as="style"><link rel="preload" href="/assets/js/app.8582b750.js" as="script"><link rel="preload" href="/assets/js/13.ac00c42d.js" as="script"><link rel="preload" href="/assets/js/1.31b6dd3f.js" as="script"><link rel="preload" href="/assets/js/8.a6c2d7dd.js" as="script"><link rel="prefetch" href="/assets/js/10.d8403849.js"><link rel="prefetch" href="/assets/js/11.12206cd1.js"><link rel="prefetch" href="/assets/js/12.708d8669.js"><link rel="prefetch" href="/assets/js/14.80aa024d.js"><link rel="prefetch" href="/assets/js/15.41ee70d5.js"><link rel="prefetch" href="/assets/js/16.ca59537c.js"><link rel="prefetch" href="/assets/js/17.81fd8108.js"><link rel="prefetch" href="/assets/js/18.764ba8e6.js"><link rel="prefetch" href="/assets/js/19.dd56091f.js"><link rel="prefetch" href="/assets/js/2.c520ccf8.js"><link rel="prefetch" href="/assets/js/20.2b3f1d94.js"><link rel="prefetch" href="/assets/js/21.99b92d64.js"><link rel="prefetch" href="/assets/js/22.17f29201.js"><link rel="prefetch" href="/assets/js/23.516e624a.js"><link rel="prefetch" href="/assets/js/24.732904d4.js"><link rel="prefetch" href="/assets/js/25.07942a3c.js"><link rel="prefetch" href="/assets/js/26.c3e1c6f5.js"><link rel="prefetch" href="/assets/js/27.bd3b9f2f.js"><link rel="prefetch" href="/assets/js/28.a02b18b5.js"><link rel="prefetch" href="/assets/js/29.5fc69af7.js"><link rel="prefetch" href="/assets/js/3.1ca3d9f1.js"><link rel="prefetch" href="/assets/js/30.5e7416df.js"><link rel="prefetch" href="/assets/js/31.a03c85d8.js"><link rel="prefetch" href="/assets/js/32.ee817a71.js"><link rel="prefetch" href="/assets/js/33.e87d6eb0.js"><link rel="prefetch" href="/assets/js/34.52e6779a.js"><link rel="prefetch" href="/assets/js/35.33774b57.js"><link rel="prefetch" href="/assets/js/36.f5de3fd7.js"><link rel="prefetch" href="/assets/js/37.f1faf98f.js"><link rel="prefetch" href="/assets/js/38.df88c064.js"><link rel="prefetch" href="/assets/js/39.e192feaa.js"><link rel="prefetch" href="/assets/js/40.6914ed18.js"><link rel="prefetch" href="/assets/js/41.cb7b542e.js"><link rel="prefetch" href="/assets/js/42.8d61c742.js"><link rel="prefetch" href="/assets/js/43.5bc513eb.js"><link rel="prefetch" href="/assets/js/44.6e4af15f.js"><link rel="prefetch" href="/assets/js/45.484a959d.js"><link rel="prefetch" href="/assets/js/46.752dc1ba.js"><link rel="prefetch" href="/assets/js/47.bec85125.js"><link rel="prefetch" href="/assets/js/48.4e4c0ecf.js"><link rel="prefetch" href="/assets/js/49.fc5467d3.js"><link rel="prefetch" href="/assets/js/50.be453575.js"><link rel="prefetch" href="/assets/js/51.966057d7.js"><link rel="prefetch" href="/assets/js/52.8fd32d8d.js"><link rel="prefetch" href="/assets/js/53.8e431eb0.js"><link rel="prefetch" href="/assets/js/54.9d0021b3.js"><link rel="prefetch" href="/assets/js/55.d4597371.js"><link rel="prefetch" href="/assets/js/56.e7c24337.js"><link rel="prefetch" href="/assets/js/57.cebaafd2.js"><link rel="prefetch" href="/assets/js/58.c032a3be.js"><link rel="prefetch" href="/assets/js/59.8d6425ea.js"><link rel="prefetch" href="/assets/js/6.d11ab2bc.js"><link rel="prefetch" href="/assets/js/60.2473c6a1.js"><link rel="prefetch" href="/assets/js/61.06731f0f.js"><link rel="prefetch" href="/assets/js/62.6768c8eb.js"><link rel="prefetch" href="/assets/js/63.b254a74b.js"><link rel="prefetch" href="/assets/js/64.71a120f4.js"><link rel="prefetch" href="/assets/js/65.8f17bb4b.js"><link rel="prefetch" href="/assets/js/66.14537b3a.js"><link rel="prefetch" href="/assets/js/67.104aba91.js"><link rel="prefetch" href="/assets/js/68.48e529b1.js"><link rel="prefetch" href="/assets/js/69.e7933eb7.js"><link rel="prefetch" href="/assets/js/7.985c2a50.js"><link rel="prefetch" href="/assets/js/70.b149e142.js"><link rel="prefetch" href="/assets/js/71.060a0369.js"><link rel="prefetch" href="/assets/js/9.3f209b21.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.b7eade15.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9139df2e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/k.png" alt="KEITH KWON" class="logo"> <span class="site-name can-hide">KEITH KWON</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/wiki/" class="nav-link router-link-active">
  Wiki
</a></div><div class="nav-item"><a href="/portfolio/" class="nav-link">
  Portfolio
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/wiki/" class="nav-link router-link-active">
  Wiki
</a></div><div class="nav-item"><a href="/portfolio/" class="nav-link">
  Portfolio
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Computer Science</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Algorithm</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Network</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Design</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>React</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wiki/react/" class="sidebar-link">React</a></li><li><a href="/wiki/modern-react/" aria-current="page" class="active sidebar-link">Modern React and Redux</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/modern-react/#_1-dive-in" class="sidebar-link">1. Dive in</a></li><li class="sidebar-sub-header"><a href="/wiki/modern-react/#_3-communicating-with-props" class="sidebar-link">3. Communicating with Props</a></li><li class="sidebar-sub-header"><a href="/wiki/modern-react/#_4-structuring-apps-with-class-based-components" class="sidebar-link">4. Structuring Apps with Class-based Components</a></li><li class="sidebar-sub-header"><a href="/wiki/modern-react/#state-in-react-components" class="sidebar-link">State in React Components</a></li><li class="sidebar-sub-header"><a href="/wiki/modern-react/#_6-lifecycle-methods" class="sidebar-link">6. Lifecycle Methods</a></li><li class="sidebar-sub-header"><a href="/wiki/modern-react/#_7-handling-user-input-with-forms-and-events" class="sidebar-link">7. Handling User Input with Forms and Events</a></li><li class="sidebar-sub-header"><a href="/wiki/modern-react/#_8-making-api-requests" class="sidebar-link">8. Making API requests</a></li><li class="sidebar-sub-header"><a href="/wiki/modern-react/#_9-building-lists-of-records" class="sidebar-link">9. Building Lists of Records</a></li></ul></li><li><a href="/wiki/styled-components/" class="sidebar-link">Styled Components</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Unity</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ETC</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="modern-react-and-redux"><a href="#modern-react-and-redux" class="header-anchor">#</a> Modern React and Redux</h1> <p><a href="https://github.com/airbnb/javascript/tree/master/react" target="_blank" rel="noopener noreferrer">AirBnB convention <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_1-dive-in"><a href="#_1-dive-in" class="header-anchor">#</a> 1. Dive in</h2> <h3 id="first-look"><a href="#first-look" class="header-anchor">#</a> First Look</h3> <p>App function is a React Component</p> <p>Component have two jobs.</p> <ol><li>return JSX</li> <li>handles events</li></ol> <p>All components return JSX : instructions that tell React what to show on screen. Looks similar to HTML.</p> <p>JSX elements</p> <ol><li>Return HTML element</li> <li>Return another component</li></ol> <p><img src="/assets/img/image-20201229205113702.9c3399d4.png" alt="image-20201229205113702"></p> <p>React iterates over every element in JSX.</p> <p>Check if DOM element. Yes? Show on screen.</p> <p>No? Call the component function and iterate through it again.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>First argument : get App function, get JSX, render into HTML</p> <p>Second argument : Then take the HTML and place it inside the div with this ID in index.html.</p> <p>The two libraries.</p> <p>React : Reconciler. Gets components, JSX and iterate through it to make HTML or get more components.</p> <p>ReactDOM : Renderer. Actually create HTML and put it to DOM.</p> <p>useState : Works with React's state system. Used to update contents on the screen.</p> <h3 id="generating-a-react-project"><a href="#generating-a-react-project" class="header-anchor">#</a> Generating a React Project</h3> <p>npx create-react-app myapp</p> <p>npm init react-app my-app</p> <p><code>yarn create react-app my-app</code></p> <h3 id="npm-vs-npx-vs-yarn"><a href="#npm-vs-npx-vs-yarn" class="header-anchor">#</a> npm vs npx vs yarn</h3> <p>npx allows us to execute it quick.</p> <h3 id="what-is-create-react-app"><a href="#what-is-create-react-app" class="header-anchor">#</a> What is create-react-app?</h3> <p>Install over 1782 packages. Most importantly, Babel, Webpack and Dev server.</p> <p><strong>Babel</strong> : Since 2015, ES is upgraded and new syntax are made. However, browsers' support for newer ES is poor. Babel changes newer version of ES into largely supported version.</p> <p><strong>Webpack</strong>:</p> <p><strong>Dev Server</strong> :</p> <h3 id="project-directory"><a href="#project-directory" class="header-anchor">#</a> Project Directory</h3> <p><img src="/assets/img/image-20201229213027133.ed1a31c4.png" alt="image-20201229213027133"></p> <h3 id="jsx"><a href="#jsx" class="header-anchor">#</a> JSX</h3> <p>React works by creating JSX files. Having HTML right inside of JS files. Compiler, which is known as Babel, changes the JSX into a plain Javascript.</p> <p><img src="/assets/img/image-20210201222245625.03d41283.png" alt="image-20210201222245625"></p> <p><img src="/assets/img/image-20201230154152309.e1b5dc93.png" alt="d"></p> <p>Babel changes JSX into HTML using React.createElement functions</p> <p><img src="/assets/img/image-20201230154356812.0938a549.png" alt="d"></p> <h3 id="template-literals-string-interpolation"><a href="#template-literals-string-interpolation" class="header-anchor">#</a> Template literals = String interpolation</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello <span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Outer bracket means JS in JSX.</p> <p>Backtick means template literals, meaning these will be strings.</p> <p>Inner bracket means JS inside template literals.</p> <h3 id="component"><a href="#component" class="header-anchor">#</a> Component</h3> <p><img src="/assets/img/image-20201230163946420.45e022b5.png" alt="image-20201230163946420"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Import the React and ReactDOM libraries</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&quot;react-dom&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Create a React component</span>
<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">&quot;name&quot;</span> className<span class="token operator">=</span><span class="token string">&quot;label&quot;</span><span class="token operator">&gt;</span>Enter name<span class="token operator">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;name&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button style<span class="token operator">=</span><span class="token string">&quot;background-color:blue; color:white;&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>

<span class="token comment">// Take the React component and show on screen</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li>You MUST write component in the same line as return</li> <li>If you don't there will be an error.</li> <li>Common practice is to write parenthesis on the first line.</li></ul> <h3 id="inline-styling-with-jsx"><a href="#inline-styling-with-jsx" class="header-anchor">#</a> Inline styling with JSX</h3> <p><img src="/assets/img/image-20201230164252779.3fd9a0fe.png" alt="image-20201230164252779"></p> <ul><li><p>Outer parenthesis declares we want to reference JS variable.</p></li> <li><p>Second parenthesis declares JS object.</p></li> <li><p>Any  kebab casing turns into camel casing.</p></li> <li><p>value is enclosed with quote marks</p></li> <li><p>semicolons are removed and comma is used. Because this is a JS object.</p></li> <li><p>Convention demands use double quotes with JSX properties. None JSX property should use single quotes. Lots of companies use double quotes everywhere. Your choice.</p></li></ul> <h3 id="class-with-jsx"><a href="#class-with-jsx" class="header-anchor">#</a> Class with JSX</h3> <p>The keyword 'class' is reserved for JS class in JSX. We have to use className instead. There is a discuss about removing className and just using class because React is becoming smarter.</p> <h3 id="jsx-can-reference-js-variables"><a href="#jsx-can-reference-js-variables" class="header-anchor">#</a> JSX can reference JS variables</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> buttonText <span class="token operator">=</span> <span class="token string">&quot;Click Me!&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>buttonText<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><code>{buttonText}</code> the parenthesis tells 'I want to use a JS variable'.</p> <p><strong>Limitation</strong></p> <ul><li><p>It's ok to put <code>strings</code>, <code>integers</code>, <code>arrays</code> to the JS variable.</p></li> <li><p>But if you put <code>object</code>, you will have an error:</p> <p><img src="/assets/img/image-20201230170231781.1343c336.png" alt="image-20201230170231781"></p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getButtonText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'Click on me!'</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token function">getButtonText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Function can be used instead as well.</p> <ul><li></li></ul> <h2 id="_3-communicating-with-props"><a href="#_3-communicating-with-props" class="header-anchor">#</a> 3. Communicating with Props</h2> <p>React components are written in 'ReactComponent' style. Not kebab, snake, or camel. Every component in React is independent. It must be <code>export</code>ed and <code>import</code>ed for 'component nesting'.</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// CommentDetail.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> CommentDetail<span class="token punctuation">;</span>

<span class="token comment">// index.js</span>
<span class="token keyword">import</span> CommentDetail <span class="token keyword">from</span> <span class="token string">'./CommentDetail'</span>
<span class="token operator">&lt;</span>CommentDetail <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>In relative path, <code>./</code> states the current folder.</li> <li>Components don't use curly braces. Treated as JSX tag.</li> <li><strong>Props</strong> : System for passing data from a <strong>parent</strong> component to <strong>child</strong> component.</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// property name = &quot;value&quot;</span>
<span class="token operator">&lt;</span>CommentDetail author<span class="token operator">=</span><span class="token string">&quot;Coco&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">CommentDetail</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token comment">//{author:&quot;coco&quot;}</span>
    <span class="token keyword">return</span><span class="token punctuation">(</span>
    	<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        	<span class="token punctuation">{</span>props<span class="token punctuation">.</span>author<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="html-attribute-vs-react-props"><a href="#html-attribute-vs-react-props" class="header-anchor">#</a> html attribute vs react props</h3> <p><img src="/assets/img/image-20210206210524783.fd2dd7b9.png" alt="image-20210206210524783"></p> <p><img src="Modern_react.assets/image-20210206210533818.png" alt="image-20210206210533818"></p> <p>attributes are predefined, props are customizable</p> <p><code>key</code> is a special property and does not act as props.</p> <h3 id="prop-to-prop"><a href="#prop-to-prop" class="header-anchor">#</a> Prop to prop</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>ApprovalCard<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>CommentDetail
        author<span class="token operator">=</span><span class="token string">&quot;Keith&quot;</span>
        time<span class="token operator">=</span><span class="token string">&quot;Today at 15:01&quot;</span>
        content<span class="token operator">=</span><span class="token string">&quot;yeah&quot;</span>
        avatar<span class="token operator">=</span><span class="token punctuation">{</span>faker<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ApprovalCard<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">ApprovalCard</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
    	<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        	<span class="token punctuation">{</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>You can put prop inside a prop.</li> <li>It will be sent down as <code>props.children</code>.  Everything between the tag will be represented as <code>props.childern</code>.</li></ul> <h3 id="mapping-object-to-props"><a href="#mapping-object-to-props" class="header-anchor">#</a> mapping object to props</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
<span class="token keyword">const</span> contacts <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Beyonce&quot;</span><span class="token punctuation">,</span>
    img<span class="token operator">:</span>
      <span class="token string">&quot;https://blackhistorywall.files.wordpress.com/2010/02/picture-device-independent-bitmap-119.jpg&quot;</span><span class="token punctuation">,</span>
    phone<span class="token operator">:</span> <span class="token string">&quot;+123 456 789&quot;</span><span class="token punctuation">,</span>
    email<span class="token operator">:</span> <span class="token string">&quot;b@beyonce.com&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Jack Bauer&quot;</span><span class="token punctuation">,</span>
    img<span class="token operator">:</span>
      <span class="token string">&quot;https://pbs.twimg.com/profile_images/625247595825246208/X3XLea04_400x400.jpg&quot;</span><span class="token punctuation">,</span>
    phone<span class="token operator">:</span> <span class="token string">&quot;+123 456 789&quot;</span><span class="token punctuation">,</span>
    email<span class="token operator">:</span> <span class="token string">&quot;jack@nowhere.com&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;Chuck Norris&quot;</span><span class="token punctuation">,</span>
    img<span class="token operator">:</span>
      <span class="token string">&quot;https://i.pinimg.com/originals/e3/94/47/e39447de921955826b1e498ccf9a39af.png&quot;</span><span class="token punctuation">,</span>
    phone<span class="token operator">:</span> <span class="token string">&quot;+123 456 789&quot;</span><span class="token punctuation">,</span>
    email<span class="token operator">:</span> <span class="token string">&quot;gmail@chucknorris.com&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> rendered_contacts <span class="token operator">=</span> contacts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">contact</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Card
      name<span class="token operator">=</span><span class="token punctuation">{</span>contact<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
      img<span class="token operator">=</span><span class="token punctuation">{</span>contact<span class="token punctuation">.</span>img<span class="token punctuation">}</span>
      phone<span class="token operator">=</span><span class="token punctuation">{</span>contact<span class="token punctuation">.</span>phone<span class="token punctuation">}</span>
      email<span class="token operator">=</span><span class="token punctuation">{</span>contact<span class="token punctuation">.</span>email<span class="token punctuation">}</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>rendered_contacts<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h2 id="_4-structuring-apps-with-class-based-components"><a href="#_4-structuring-apps-with-class-based-components" class="header-anchor">#</a> 4. Structuring Apps with Class-based Components</h2> <h3 id="react-in-the-past"><a href="#react-in-the-past" class="header-anchor">#</a> React in the Past</h3> <ul><li><p><strong>Functional components</strong> used to produce JSX to show content to user.</p></li> <li><p><strong>Class components</strong> were used to produce JSX to show content to user &amp; use lifecycle method to run code at specific points &amp; use state system to update content on screen</p></li> <li><p>Functional components were much more restricted. But now it became more dynamic</p> <p><img src="/assets/img/image-20210101120337198.6b219ddd.png" alt="image-20210101120337198"></p></li> <li><p>Which one should we use?</p></li> <li><p>Companies with established projects are using class-based components because this used to be the way.</p></li> <li><p>Newer projects use either one.</p></li> <li><p>You must understand both.</p></li></ul> <blockquote><p>Learn class-based -&gt; function-based -&gt; redux</p></blockquote> <h3 id="geolocation-api"><a href="#geolocation-api" class="header-anchor">#</a> Geolocation API</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>window.navigator.geolocation.getCurrentPosition(successCallback(){}, failureCallback(){})

    window.navigator.geolocation.getCurrentPosition(
        (position) =&gt;  console.log(position) , 
        (err) =&gt; console.log(err)
    )
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="lifecycle-of-functional-component"><a href="#lifecycle-of-functional-component" class="header-anchor">#</a> Lifecycle of functional component</h3> <p><img src="/assets/img/image-20210101124918561.cc8feddf.png" alt="image-20210101124918561"></p> <p>Getting geolocation service takes some time because it uses API.</p> <p>Problem is when we get result of geolocation, the screen is already rendered!</p> <p>There must be a way to 'pause' or 'rerender' the updated part.</p> <p>Class component must be used to update screen.</p> <h3 id="rule-of-class-components"><a href="#rule-of-class-components" class="header-anchor">#</a> Rule of Class components</h3> <ol><li>Must be a Javascript Class. Different from Ruby or Java's object oriented class inheritance. JS uses prototypal inheritance. But works like class in this case</li> <li>Must extend React.component</li> <li>Must define render method that returns JSX</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> Latitude<span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>When <code>class</code> is made, JS class only has <code>render</code> method. React expects many more methods and these are implemented in <code>React.Component</code>. By using <code>extends</code> we are creating a sub-class.</p> <h2 id="state-in-react-components"><a href="#state-in-react-components" class="header-anchor">#</a> State in React Components</h2> <blockquote><p>Using class component is not enough to rerender updated screen.</p></blockquote> <ul><li>Understanding state will open new understandings</li> <li>But it is difficult and challenging.</li></ul> <h3 id="rules-of-state"><a href="#rules-of-state" class="header-anchor">#</a> Rules of state</h3> <ol><li><p>Only usable with class components. (can be used with functional using the hooks system)</p></li> <li><p>It's confusing with props. Props vs States</p></li> <li><p>State is a JS object that contains data strictly relevant to a component.</p></li> <li><p>Updating state causes rerendering of the componenet.</p></li> <li><p>State must be initialized when component is created.</p></li> <li><p><strong>State can only be updated using the function <code>setState</code></strong>.</p></li></ol> <h3 id="initializing"><a href="#initializing" class="header-anchor">#</a> Initializing</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
   <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>lat<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
   <span class="token punctuation">}</span>       
   
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> Latitude<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>lat<span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>Constructor is specific to JS not only React. Any time a new instance is created, constructor function is instantly called before anything else. This makes it a good place to initializing state.</li> <li>The <code>super</code> method is called from <code>React.Component</code>. We are replacing the javascript constructor method with react's <code>constructor</code> method. To make sure <code>React.Component</code>'s <code>constructor</code> method is called, we state <code>super(props)</code>.</li></ul> <h3 id="setstate"><a href="#setstate" class="header-anchor">#</a> setState</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// right way</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> lat<span class="token operator">:</span> position<span class="token punctuation">.</span>coords<span class="token punctuation">.</span>latitude <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// NEVER DO THIS. Only exception is when we initialize.</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>lat <span class="token operator">=</span> position<span class="token punctuation">.</span>coords<span class="token punctuation">.</span>latitude
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><code>this.state</code> direct assignment is only used on initialization</li></ul> <h3 id="app-lifecycle-walkthrough"><a href="#app-lifecycle-walkthrough" class="header-anchor">#</a> App lifecycle walkthrough</h3> <blockquote><p>What happens?</p></blockquote> <ol><li>JS file loaded by browser</li> <li>Instance of App component created</li> <li>Constructor function gets called. (super needed)</li> <li>Initialized state object with properties of interest. <code>this.state</code> is a very special name and cannot be named else.</li> <li>Call async API. The callback function is not executed until some time in the future but the constructor finishes before.</li> <li><code>Render</code> method executed.</li> <li>App returns JSX and rendered to HTML.</li> <li>API request responsed.</li> <li><code>this.setState</code> updates our state</li> <li>React checks update and runs <code>render</code> method one more time.</li> <li>Updated JSX returned.</li> <li>Screen updated.</li></ol> <p>App component is rendered <strong>twice</strong>.</p> <h3 id="handling-errors-with-grace"><a href="#handling-errors-with-grace" class="header-anchor">#</a> Handling errors (with grace)</h3> <blockquote><p>For better UX</p></blockquote> <p><img src="/assets/img/image-20210101145411837.05817c40.png" alt="image-20210101145411837"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>errorMessage <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>lat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> Error<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>errorMessage<span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>errorMessage <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>lat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Latitude <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>lat<span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Loading<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>conditional rendering.</li></ul> <h3 id="componentdidmount"><a href="#componentdidmount" class="header-anchor">#</a> componentDidMount</h3> <p>When I refresh too quick repeatedly, I get</p> <p><img src="/assets/img/image-20210101150258479.2f2f9488.png" alt="image-20210101150258479"></p> <h2 id="_6-lifecycle-methods"><a href="#_6-lifecycle-methods" class="header-anchor">#</a> 6. Lifecycle Methods</h2> <blockquote><p>We've already seen constructor function. We've also seen render method. Render method is not optional unlike others. Let's see what other methods there are</p></blockquote> <p><img src="/assets/img/image-20210101222500747.7d474ae5.png" alt="image-20210101222500747"></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Called one time after rendered</span>
<span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// Called each time updated</span>
<span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>After placing <code>window.navigator.geolocation.getCurrentPosition</code> in the <code>componentDidMount</code>, the error</p> <p><img src="/assets/img/image-20210101150258479.2f2f9488.png" alt="image-20210101150258479">went away.</p> <p><strong>Do not do dataloading in constructor</strong>. setState can only happen to components that are mounted.</p> <h3 id="alternate-way-to-initialize-state"><a href="#alternate-way-to-initialize-state" class="header-anchor">#</a> Alternate way to initialize state</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> lat<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> errorMessage<span class="token operator">:</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Same as below. Babel will build up the constructor for us.</span>
state <span class="token operator">=</span> <span class="token punctuation">{</span> lat<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> errorMessage<span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>This makes it simpler. Since <code>constructor</code> method is only used to initialize states, this is a good way to do it.</p> <h3 id="expression-vs-statement"><a href="#expression-vs-statement" class="header-anchor">#</a> Expression vs Statement</h3> <blockquote><p>An <strong>expression</strong> evaluates to a value. A <strong>statement</strong> does something. <strong>Statements</strong> represent an action <strong>or</strong> command e.g print <strong>statements</strong>, assignment <strong>statements</strong>. <strong>Expression</strong> is a combination of variables, operations and values that yields a result value.</p></blockquote> <ul><li>Statement : <code>if</code> <code>switch</code> statements that to conditional stuffs.</li> <li>Expression : simple return value.</li></ul> <h3 id="jsx-can-only-contain-expressions-not-statements"><a href="#jsx-can-only-contain-expressions-not-statements" class="header-anchor">#</a> JSX {} can only contain expressions, not statements</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>isLoggedIn <span class="token operator">===</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span> Hellow<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token operator">&lt;</span>Login <span class="token operator">/</span><span class="token operator">&gt;</span>
         <span class="token punctuation">}</span><span class="token punctuation">}</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>This does not work because statement is inside {}.</li></ul> <h3 id="js-ternary-operator-inline-condition"><a href="#js-ternary-operator-inline-condition" class="header-anchor">#</a> JS ternary operator(inline condition)</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">CONDITION</span> <span class="token operator">?</span> <span class="token constant">DO</span> <span class="token constant">IF</span> <span class="token constant">TRUE</span> <span class="token operator">:</span> <span class="token constant">DO</span> <span class="token constant">IF</span> <span class="token constant">FALSE</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>By using ternary operator, the <code>if else</code> statement changed into expressions.</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//getting the current season</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">{</span>isLoggedIn <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token operator">?</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span> <span class="token operator">:</span> <span class="token operator">&lt;</span>Login<span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="semantic-ui-icons"><a href="#semantic-ui-icons" class="header-anchor">#</a> semantic-ui icons</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> icon <span class="token operator">=</span> season <span class="token operator">===</span> <span class="token string">&quot;winter&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;snowflake&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;sun&quot;</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>i className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>icon<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> icon</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="configuring-options-and-destructuring"><a href="#configuring-options-and-destructuring" class="header-anchor">#</a> configuring options and destructuring</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> seasonConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
    summer<span class="token operator">:</span> <span class="token punctuation">{</span>
        text<span class="token operator">:</span> <span class="token string">'let\'s hit the beach'</span><span class="token punctuation">,</span>
        iconName<span class="token operator">:</span> <span class="token string">'summer'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    winter<span class="token operator">:</span> <span class="token punctuation">{</span>
        text<span class="token operator">:</span> <span class="token string">'burr it\'s chilly'</span><span class="token punctuation">,</span>
        iconName<span class="token operator">:</span> <span class="token string">'winter'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>
<span class="token punctuation">.</span>
<span class="token punctuation">.</span>


<span class="token keyword">const</span> season <span class="token operator">=</span> <span class="token function">getSeason</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>lat<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//deestructuring</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> text<span class="token punctuation">,</span> iconName<span class="token punctuation">}</span> <span class="token operator">=</span> seasonConfig<span class="token punctuation">[</span>season<span class="token punctuation">]</span>



</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="importing-css-in-react"><a href="#importing-css-in-react" class="header-anchor">#</a> importing CSS in React</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token string">'./SeasonDisplay.css'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>Webpack will see the the import, and stick it to <code>index.html</code>.</li></ul> <h3 id="default-props"><a href="#default-props" class="header-anchor">#</a> Default Props</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// First way</span>
<span class="token keyword">const</span> <span class="token function-variable function">AppName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token punctuation">{</span>props<span class="token punctuation">.</span>message <span class="token operator">||</span> <span class="token string">'Loading'</span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token comment">// The beautiful way</span>
AppName<span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
    message<span class="token operator">:</span><span class="token string">&quot;Loading...&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>Great to make reusable elements.</li></ul> <h3 id="props-combined-with-ternary-expressions"><a href="#props-combined-with-ternary-expressions" class="header-anchor">#</a> props combined with ternary expressions</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//App.js</span>

<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Form <span class="token keyword">from</span> <span class="token string">&quot;./Form&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> userIsRegistered <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;container&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Form userIsRegistered<span class="token operator">=</span><span class="token punctuation">{</span>userIsRegistered<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//Form.js</span>

<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Form</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>form className<span class="token operator">=</span><span class="token string">&quot;form&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;Username&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;password&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;Password&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token operator">!</span>props<span class="token punctuation">.</span>userIsRegistered <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;password&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;Confirm Password&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token punctuation">)</span><span class="token punctuation">}</span>

      <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>props<span class="token punctuation">.</span>userIsRegistered <span class="token operator">?</span> <span class="token string">&quot;Login&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;Register&quot;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Form<span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="summary-of-class-components"><a href="#summary-of-class-components" class="header-anchor">#</a> Summary of Class Components</h3> <p><img src="/assets/img/image-20210102203406942.5393ef9f.png" alt="image-20210102203406942"></p> <p><img src="/assets/img/image-20210102203425806.0bd0767c.png" alt="image-20210102203425806"></p> <p><img src="/assets/img/image-20210102203502093.e34f58aa.png" alt="image-20210102203502093"></p> <p><strong>+State can only be updated using the function <code>setState</code></strong></p> <h3 id="clock"><a href="#clock" class="header-anchor">#</a> Clock</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">class</span> <span class="token class-name">Clock</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
        state <span class="token operator">=</span><span class="token punctuation">{</span>time<span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        
        <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>time<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        
        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
                <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;time&quot;</span><span class="token operator">&gt;</span>
                    The time is<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>time<span class="token punctuation">}</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="hoisting"><a href="#hoisting" class="header-anchor">#</a> Hoisting</h3> <blockquote><p>This should be on JS md. Move later</p></blockquote> <ul><li>Hoisting means getting assigned before it should happen.</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span>
<span class="token keyword">var</span> animal <span class="token operator">=</span> <span class="token string">&quot;Coco&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span>
<span class="token comment">// Undefined</span>
<span class="token comment">// Coco</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span>
<span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token string">&quot;Coco&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span>
<span class="token comment">// ReferenceError : cannot access before initiaization</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>In the first case, JS knew that <code>animal</code> would be declared before actually it was. This is called hoisting and happens to <code>var</code></li> <li>It can also happen to functions.</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">howl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">howl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'woof'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// woof</span>

<span class="token function">hoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">hoot</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hoo hoo'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// ReferenceError : cannot access 'hoot' before initialization</span>

<span class="token function">hoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">hoot</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hoo hoo'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hoot<span class="token punctuation">)</span>
<span class="token comment">// TypeError : hoot is not a function (Type is Undefined)</span>
<span class="token comment">// (if executed) Undefined</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ul><li><strong>function declarations</strong> are hoisted. These can thought that they are placed on the top of the JS file.</li> <li><strong>function expressions</strong> are not hoisted.</li></ul> <h2 id="_7-handling-user-input-with-forms-and-events"><a href="#_7-handling-user-input-with-forms-and-events" class="header-anchor">#</a> 7. Handling User Input with Forms and Events</h2> <h3 id="onchange"><a href="#onchange" class="header-anchor">#</a> onChange</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">SearchBar</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">onInputChange</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>form<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>input
                type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span>
                onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onInputChange<span class="token punctuation">}</span>
              <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><ul><li><code>onChange</code>, <code>onClick</code> and <code>onSubmit</code>  are special names.</li> <li><code>onChange={this.onInputChange}</code> Not <code>onChange={this.onInputChange()}</code>  Because we do not want to execute it everytime its rendered. Its a reference of callback function so we can use it sometime in the future.</li></ul> <h3 id="onchange-alternate-inline-arrow-function-callback"><a href="#onchange-alternate-inline-arrow-function-callback" class="header-anchor">#</a> onChange alternate: inline arrow function callback</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;input type=&quot;text&quot; onChange={(event)=&gt;{console.log(event.target.value)}} /&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>Can use anonymous arrow function instead of separate function</li></ul> <h3 id="controlled-vs-uncontrolled-element"><a href="#controlled-vs-uncontrolled-element" class="header-anchor">#</a> Controlled vs Uncontrolled element</h3> <p>What we did before was uncontrolled element. Below is controlled element made by using <code>state</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">SearchBar</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>term<span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>


  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>form<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>input
                type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>term<span class="token punctuation">}</span>
                <span class="token function-variable function">onChange</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>term<span class="token operator">:</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
              <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li><code>state</code> is made and it's synchronized with the <code>input</code> with the <code>value</code> property.</li> <li>Because it uses <code>setState</code> component is rerendered everytime.</li> <li>This is better because information is stored inside the React area <strong>not</strong> in the html &amp; DOM area.</li> <li>This makes certain manipulations very easy.
<ul><li><code>this.setState({ term: e.target.value.toUpperCase() });</code></li></ul></li></ul> <h3 id="this"><a href="#this" class="header-anchor">#</a> this</h3> <p><img src="/assets/img/image-20210103164817892.11f103ac.png" alt="image-20210103164817892"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span>
  <span class="token function">setSound</span><span class="token punctuation">(</span><span class="token parameter">sound</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sound <span class="token operator">=</span> sound
  <span class="token punctuation">}</span>
  <span class="token function">drive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sound<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
car<span class="token punctuation">.</span><span class="token function">setSound</span><span class="token punctuation">(</span><span class="token string">'vroom'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> truck <span class="token operator">=</span> <span class="token punctuation">{</span>
  sound<span class="token operator">:</span> <span class="token string">'putput'</span>
  driveMyTruck<span class="token operator">:</span>car<span class="token punctuation">.</span>drive
<span class="token punctuation">}</span>

truck<span class="token punctuation">.</span><span class="token function">driveMyTruck</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//putput</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ul><li><code>driveMyTruck()</code> calls <code>car.drive</code>. <code>car.drive</code> calls <code>this.sound</code>. At this point, although <code>this</code> was <code>car</code> for car, because <code>this</code> is being called from <code>truck</code>, <code>this</code> is assigned to <code>truck</code>.</li> <li><code>this</code> is not assigned when it's being made but when it's being executed.</li></ul> <h3 id="binding-this"><a href="#binding-this" class="header-anchor">#</a> binding this</h3> <p>Legacy way</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>drive <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">drive</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Using arrow function</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">onFormSubmit</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>term<span class="token operator">:</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// upper is shorthand notation for below</span>

<span class="token function-variable function">onFormSubmit</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>term<span class="token operator">:</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// We can use arrow function</span>
<span class="token function-variable function">onFormSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>term<span class="token operator">:</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li><strong>arrow function</strong> do not default <code>this</code> to the window scope, rather they execute in the scope</li> <li>arrow function does not have its own <code>this</code>. The <code>this</code> value of the enclosing lexical scope is used; arrow functions follow the normal variable lookup rules. So while searching for <code>this</code> which is not present in the current scope, an arrow function ends up finding the <code>this</code> from its enclosing scope.</li></ul> <p>Final method : Using anonymous arrow function inline.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> term<span class="token operator">:</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="communicating-child-to-parent"><a href="#communicating-child-to-parent" class="header-anchor">#</a> Communicating Child to Parent</h3> <p><img src="/assets/img/image-20210104171750154.14d6f3d9.png" alt="image-20210104171750154"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//App.js</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">onSearchSubmit</span><span class="token punctuation">(</span><span class="token parameter">term</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>term<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      	<span class="token comment">//onSubmit is NOT a specific name. Changable.</span>
        <span class="token operator">&lt;</span>SearchBar onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onSearchSubmit<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">///SearchBar.js</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span> term<span class="token operator">:</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function-variable function">onFormSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onSubmit</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>term<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><code>this.props.</code> is used to get the passed down props function.</li> <li>parent function is passed down as props. Searched term is sent to the parent function. Function is run at parent component.</li></ul> <h2 id="_8-making-api-requests"><a href="#_8-making-api-requests" class="header-anchor">#</a> 8. Making API requests</h2> <blockquote><p>Sending request to unsplash API</p></blockquote> <h3 id="axios-vs-fetch"><a href="#axios-vs-fetch" class="header-anchor">#</a> Axios vs Fetch</h3> <p><code>yarn add axios</code></p> <p><code>Axios</code> is 3rd party package, and <code>fetch</code> is built into browsers. Axios can be very easily installed using npm. Fetch is far more basic and lower level. You will have to write lot of code that is already written in axios.</p> <p>Highly recommend to use <code>axios</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 3rd party import is placed above my components</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&quot;axios&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SearchBar <span class="token keyword">from</span> <span class="token string">&quot;./SearchBar&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">onSearchSubmit</span><span class="token punctuation">(</span><span class="token parameter">term</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://api.unsplash.com/search/photos</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      params<span class="token operator">:</span> <span class="token punctuation">{</span> query<span class="token operator">:</span> term <span class="token punctuation">}</span><span class="token punctuation">,</span>
      headers<span class="token operator">:</span> <span class="token punctuation">{</span>
        Authorization<span class="token operator">:</span> <span class="token string">&quot;Client-ID kdfkldsljfrMYIDlsjfklsdc&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="request-with-async-and-await"><a href="#request-with-async-and-await" class="header-anchor">#</a> Request with Async and Await</h3> <blockquote><p>Two methods. async is newer and better</p></blockquote> <p><strong>then()</strong></p> <p>A promise object is always returned after axios use<code>.then()</code> function to chain. Anytime you are working with promise, you can use <code>then</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://api.unsplash.com/search/photos</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  params<span class="token operator">:</span> <span class="token punctuation">{</span> query<span class="token operator">:</span> term <span class="token punctuation">}</span><span class="token punctuation">,</span>
  headers<span class="token operator">:</span> <span class="token punctuation">{</span>
    Authorization<span class="token operator">:</span> <span class="token string">&quot;Client-ID KBHNjiOkkI7vlg-CmyRoIy29kQcZ37eTv0EoC0sgIzc&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>async await</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>state <span class="token operator">=</span> <span class="token punctuation">{</span> images<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">async</span> <span class="token function">onSearchSubmit</span><span class="token punctuation">(</span><span class="token parameter">term</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://api.unsplash.com/search/photos</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    params<span class="token operator">:</span> <span class="token punctuation">{</span> query<span class="token operator">:</span> term <span class="token punctuation">}</span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Authorization<span class="token operator">:</span> <span class="token string">&quot;Client-ID KBHNjiOkkI7vlg-CmyRoIy29kQcZ37eTv0EoC0sgIzc&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> images<span class="token operator">:</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>results <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="binding-callbacks"><a href="#binding-callbacks" class="header-anchor">#</a> Binding Callbacks</h3> <p><img src="/assets/img/image-20210108015409881.a6d9687d.png" alt="image-20210108015409881"></p> <p>This error occurs because <code>this</code> in <code>this.state</code> does not point to the <code>App class</code>. It instead points to the <code>props</code> of SearchBar.</p> <p><code>onSubmit</code> is sent down to SearchBar component as props. It is then executed via <code>this.props.onSubmit(this.state.term)</code>. <code>onSubmit</code> is executed on <code>props</code> so the <code>this</code> directs to the <code>props</code> of SearchBar component.</p> <p>Refactored as arrow function to fix the <code>this</code> context.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function-variable function">onSearchSubmit</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">term</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://api.unsplash.com/search/photos</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    params<span class="token operator">:</span> <span class="token punctuation">{</span> query<span class="token operator">:</span> term <span class="token punctuation">}</span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Authorization<span class="token operator">:</span> <span class="token string">&quot;Client-ID KBHNjiOkkI7vlg-CmyRoIy29kQcZ37eTv0EoC0sgIzc&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> images<span class="token operator">:</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>results <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="creating-custom-clients"><a href="#creating-custom-clients" class="header-anchor">#</a> Creating Custom Clients</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//unsplash.js</span>

<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&quot;axios&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  baseURL<span class="token operator">:</span> <span class="token string">&quot;https://api.unsplash.com&quot;</span><span class="token punctuation">,</span>
  headers<span class="token operator">:</span> <span class="token punctuation">{</span>
    Authorization<span class="token operator">:</span> <span class="token string">&quot;Client-ID KBHNjMYIDzc&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//App.js</span>
<span class="token keyword">import</span> unsplash <span class="token keyword">from</span> <span class="token string">&quot;../api/unsplash&quot;</span><span class="token punctuation">;</span>

<span class="token function-variable function">onSearchSubmit</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">term</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> unsplash<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/search/photos</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    params<span class="token operator">:</span> <span class="token punctuation">{</span> query<span class="token operator">:</span> term <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> images<span class="token operator">:</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>results <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_9-building-lists-of-records"><a href="#_9-building-lists-of-records" class="header-anchor">#</a> 9. Building Lists of Records</h2> <p><img src="/assets/img/image-20210108165722545.f98611be.png" alt="image-20210108165722545"></p> <h3 id="map-function-in-javascript"><a href="#map-function-in-javascript" class="header-anchor">#</a> map function in javascript</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> newNumbers<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token keyword">const</span> new_numbers <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> num <span class="token operator">*</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="getting-lists-from-props"><a href="#getting-lists-from-props" class="header-anchor">#</a> Getting lists from props</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">ImageList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> images <span class="token operator">=</span> props<span class="token punctuation">.</span>images<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>image<span class="token punctuation">.</span>urls<span class="token punctuation">.</span>regular<span class="token punctuation">}</span> alt<span class="token operator">=</span><span class="token punctuation">{</span>image<span class="token punctuation">.</span>alt_description<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>img<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>images<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="keys-in-props"><a href="#keys-in-props" class="header-anchor">#</a> Keys in props</h3> <p><strong>Purpose</strong></p> <p>React uses key to identify which list is updated by comparing the keys and the value.</p> <p><strong>Implementation</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>img key<span class="token operator">=</span><span class="token punctuation">{</span>image<span class="token punctuation">.</span>id<span class="token punctuation">}</span> src<span class="token operator">=</span><span class="token punctuation">{</span>image<span class="token punctuation">.</span>urls<span class="token punctuation">.</span>regular<span class="token punctuation">}</span> alt<span class="token operator">=</span><span class="token punctuation">{</span>image<span class="token punctuation">.</span>alt_description<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>destructuring</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> images <span class="token operator">=</span> props<span class="token punctuation">.</span>images<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>img key<span class="token operator">=</span><span class="token punctuation">{</span>image<span class="token punctuation">.</span>id<span class="token punctuation">}</span> src<span class="token operator">=</span><span class="token punctuation">{</span>image<span class="token punctuation">.</span>urls<span class="token punctuation">.</span>regular<span class="token punctuation">}</span> alt<span class="token operator">=</span>image<span class="token punctuation">.</span>alt_description<span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// destructured</span>

<span class="token keyword">const</span> images <span class="token operator">=</span> props<span class="token punctuation">.</span>images<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>id<span class="token punctuation">,</span> urls<span class="token punctuation">,</span> alt_description<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>img key<span class="token operator">=</span><span class="token punctuation">{</span>id<span class="token punctuation">}</span> src<span class="token operator">=</span><span class="token punctuation">{</span>urls<span class="token punctuation">.</span>regular<span class="token punctuation">}</span> alt<span class="token operator">=</span>alt_description<span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="accessing-the-dom-with-refs"><a href="#accessing-the-dom-with-refs" class="header-anchor">#</a> Accessing the DOM with Refs</h3> <p><img src="/assets/img/image-20210108220559814.421fadc0.png" alt="image-20210108220559814"></p> <p>Vanila JS : <code>document.querySelector('img').clientHeight</code></p> <p><strong>React Refs</strong> gives access to a single DOM element. We create refs in the constructor, assign them to instance variables, then pass to a particular JSX element as props.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>imageRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>
<span class="token punctuation">.</span>
<span class="token operator">&lt;</span>img ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>imageRef<span class="token punctuation">}</span> src<span class="token operator">=</span><span class="token punctuation">{</span>urls<span class="token punctuation">.</span>regular<span class="token punctuation">}</span> alt<span class="token operator">=</span><span class="token punctuation">{</span>description<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token punctuation">.</span>
<span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>Listening until images are loaded</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>imageRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>setSpans<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="redux-vs-vuex"><a href="#redux-vs-vuex" class="header-anchor">#</a> Redux vs Vuex</h3> <blockquote><p>Flux libraries are like glasses : you'll know when you need them   -Dan Abramov</p></blockquote> <p>In the past it was not uncommon to have pieces of state across our application tucked inside of controllers, services, routes, directives (AngularJS), local storage, session storage, cookies, and some other alternatives.</p> <p>When the application grows, this approach is really hard to scale and this is where Flux and React stepped in.</p> <p><img src="/assets/img/image-20210108022239362.db4359eb.png" alt="image-20210108022239362"></p> <p>Flux is the architectural pattern on which the Redux and later Vuex (with some diffs) were based.  <strong>Flux assumes unidirectional data flow</strong>, while MVC is based on bidirectional flow.</p> <p>An Action consists of action type and eventually action payload, that is the data that will be propagated to the store.</p> <p>Dispatcher takes an action and dispatches it to a store, which updates themself and propagates a change event to views.</p> <p>The Store is a single source of truth - its a global state of our application. It's the central point of the Flux pattern, where data are stored and passed to all components.</p> <p>View is usually the component</p> <p>The main difference between them - while Redux uses reducers Vuex uses mutations. In Redux state is always immutable, while in Vuex committing mutation by the store is the only way to change data</p> <p>React is different from Vue in the way it processes updates: React renders a virtual DOM then calculates optimal DOM operations to make the currently rendered DOM match the new Virtual Dom. But it has no way of knowing whether a particular component needs to re-render or not based on the new data. Vue instances keep track of which bits of data they depend on to render. These instances automatically register what needs to re-render when the data changes.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/1/2021, 9:19:08 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/wiki/react/" class="prev">
        React
      </a></span> <span class="next"><a href="/wiki/styled-components/">
        Styled Components
      </a>
      
    </span></p></div>  <div class="back"><a href="/wiki" class="back-span">Back to list</a></div> <div class="theme-default-content"><!----></div></main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8582b750.js" defer></script><script src="/assets/js/13.ac00c42d.js" defer></script><script src="/assets/js/1.31b6dd3f.js" defer></script><script src="/assets/js/8.a6c2d7dd.js" defer></script>
  </body>
</html>
